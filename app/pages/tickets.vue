<template>
  <div class="tickets-page">
    <div class="container">
      <div class="tickets-header">
        <h1 class="tickets-title"><span class="tickets-icon">üìö</span> –ë–∏–ª–µ—Ç—ã –ü–î–î</h1>
        <p class="tickets-description">–ò–∑—É—á–∞–π—Ç–µ –≤—Å–µ 40 –±–∏–ª–µ—Ç–æ–≤ –ü–î–î —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∫ –∫–∞–∂–¥–æ–º—É –≤–æ–ø—Ä–æ—Å—É</p>
      </div>

      <div class="tickets-stats">
        <div class="stat-card"><div class="stat-number">40</div><div class="stat-label">–±–∏–ª–µ—Ç–æ–≤</div></div>
        <div class="stat-card"><div class="stat-number">800</div><div class="stat-label">–≤–æ–ø—Ä–æ—Å–æ–≤</div></div>
        <div class="stat-card"><div class="stat-number">20</div><div class="stat-label">–≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –±–∏–ª–µ—Ç–µ</div></div>
      </div>

      <div class="tickets-grid">
        <div v-for="ticket in tickets" :key="ticket.id" class="ticket-card" @click="openTicket(ticket.id)">
          <div class="ticket-number">–ë–∏–ª–µ—Ç {{ ticket.id }}</div>
          <div class="ticket-info">
            <div class="ticket-questions">{{ ticket.questions }} –≤–æ–ø—Ä–æ—Å–æ–≤</div>
            <div class="ticket-status" :class="ticket.status">{{ getStatusText(ticket.status) }}</div>
          </div>
          <div class="ticket-action"><span class="action-icon">‚Üí</span></div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'

useHead({ title: '–ë–∏–ª–µ—Ç—ã –ü–î–î - –ê–≤—Ç–æ–¢–µ—Å—Ç', meta: [{ name: 'description', content: '–ò–∑—É—á–∞–π—Ç–µ –≤—Å–µ 40 –±–∏–ª–µ—Ç–æ–≤ –ü–î–î' }] })

const tickets = ref([])
onMounted(() => { for (let i = 1; i <= 40; i++) tickets.value.push({ id: i, questions: 20, status: Math.random() > 0.7 ? 'completed' : Math.random() > 0.4 ? 'in-progress' : 'not-started' }) })
const getStatusText = (status) => status === 'completed' ? '–ü—Ä–æ–π–¥–µ–Ω' : status === 'in-progress' ? '–í –ø—Ä–æ—Ü–µ—Å—Å–µ' : '–ù–µ –Ω–∞—á–∞—Ç'
const openTicket = (id) => console.log('–û—Ç–∫—Ä—ã–≤–∞–µ–º –±–∏–ª–µ—Ç', id)
</script>
